<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Sdrow Ssdrawkcab</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <style>
            button{
                padding: 0;
                background: transparent;
                border: none;
            }
            button:hover{
                cursor: pointer;
            }
        </style>
    </head>
    <body>
<input id="input" placeholder="Input name here:" oninput="run();">
<input id="output" disabled placeholder="Output:">
<button onclick="copy();"  class="material-symbols-outlined">content_copy</button>
<br><div id="listofnames"></div>
<script>

function runNames(){
    document.getElementById("listofnames").innerHTML = "";
    if(localStorage.getItem("listofnames")){
        var names = localStorage.getItem("listofnames");
        names = names.split(", ");
        for(var i = 0; i < names.length; i ++){
            var n = names[i];
            var id = n;
            document.getElementById("listofnames").innerHTML += "<span id='" + i + "'>" + n + "</span><button class='material-symbols-outlined' onclick='del(" + i + ")'>delete</button><br>";

        }
    }
}
runNames();
    function capitalize(inputString) {
        inputString = inputString.toLowerCase();
        return inputString.charAt(0).toUpperCase() + inputString.slice(1);
    };
    function run(){
        var input = document.getElementById("input").value;
        var output = "";
        for(var i = input.length; i > 0; i --) {
            output += input[i-1];
        }
        
        document.getElementById("output").value = capitalize(output);
    }
    function copy() {
        var val = document.getElementById("output").value.trim();
        if (val === "") return;
    
        // Check if the name already exists
        var can = true;
        var names = localStorage.getItem("listofnames") ? localStorage.getItem("listofnames").split(", ") : [];
        if (names.includes(val)) {
            var confirmation = confirm("Are you sure you want to add a duplicate?");
            can = confirmation;
        }
    
        // Proceed with adding and copying if allowed
        if (can) {
            // Use Clipboard API to copy text to the clipboard
            navigator.clipboard.writeText(val).then(function() {
                console.log("Name copied to clipboard!");
            }).catch(function(err) {
                console.error("Failed to copy text: ", err);
            });
    
            // Store the value in localStorage
            if (localStorage.getItem("listofnames")) {
                var string = localStorage.getItem("listofnames");
                string += ", " + val;
                localStorage.setItem("listofnames", string);
            } else {
                localStorage.setItem("listofnames", val);
            }
    
            runNames();
        }
    }

    function del(id){
        var confirmation = confirm("Are you sure you want to delete this name?");
        if(localStorage.getItem("listofnames") && confirmation) {
            var names = localStorage.getItem("listofnames").split(", ");
            names.splice(Number(id), 1);
            localStorage.setItem("listofnames", names.join(", "));
            runNames();
        }
    }
</script>
    </body>
</html>
